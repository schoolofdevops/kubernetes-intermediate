---
phase: 04-advanced-content
plan: 05
type: execute
wave: 1
depends_on: []
files_modified:
  - docs/section-9/01-overview.mdx
  - docs/section-9/02-reading.md
  - docs/section-9/03-lab.md
  - docs/section-9/quiz.md
autonomous: true

must_haves:
  truths:
    - "Learner can read Module 9 content in 10-20 minutes and understand agentic AI concepts, MCP architecture, and AI-assisted Kubernetes operations"
    - "Learner can follow the lab to set up MCP Kubernetes server and use AI-assisted troubleshooting"
    - "Learner can answer 10-12 quiz questions about agentic Kubernetes concepts and safety practices"
    - "Module 9 emphasizes human-in-the-loop safety and positions content as an introduction, not a production deployment guide"
  artifacts:
    - path: "docs/section-9/02-reading.md"
      provides: "Agentic Kubernetes reading with MCP architecture, use cases, safety practices"
      min_lines: 180
    - path: "docs/section-9/03-lab.md"
      provides: "AI-assisted troubleshooting lab with MCP server setup"
      min_lines: 200
    - path: "docs/section-9/quiz.md"
      provides: "10-12 agentic Kubernetes quiz questions"
      min_lines: 100
  key_links:
    - from: "docs/section-9/03-lab.md"
      to: "kubectl-ai with MCP Server Mode"
      via: "Lab installs kubectl-ai (Google Cloud Platform) with MCP server mode for AI-K8s integration"
      pattern: "kubectl-ai"
    - from: "docs/section-9/02-reading.md"
      to: "docs/section-9/03-lab.md"
      via: "Next Steps info box linking to lab"
      pattern: "lab"
---

<objective>
Create complete Module 9: Intro to Agentic Kubernetes - an introductory module teaching learners about AI-assisted Kubernetes operations using Model Context Protocol (MCP). This is a PREVIEW module: it introduces concepts and provides exploratory hands-on experience, but explicitly positions itself as an introduction to an evolving field.

Purpose: Agentic AI is the emerging future of Kubernetes operations. This module gives learners a head start by understanding the concepts (MCP protocol, AI agents, human-in-the-loop), trying AI-assisted troubleshooting, and developing safety awareness. It completes the course arc from "deploy an app" to "operate it with AI assistance."

Output: Complete Module 9 (overview, reading, lab, quiz) with 3 Mermaid diagrams and an exploratory lab using MCP Kubernetes server.
</objective>

<execution_context>
@/Users/gshah/.claude/get-shit-done/workflows/execute-plan.md
@/Users/gshah/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/04-advanced-content/04-RESEARCH.md
@templates/content-template.md
@templates/lab-template.md
@templates/quiz-template.md
@templates/AUTHORING-GUIDE.md
@docs/section-9/01-overview.mdx
@docs/section-1/02-reading.md
@docs/section-1/03-lab.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Module 9 reading materials with overview update and Mermaid diagrams</name>
  <files>
    docs/section-9/01-overview.mdx
    docs/section-9/02-reading.md
  </files>
  <action>
**1. Update docs/section-9/01-overview.mdx:**
Replace placeholder content. Create proper module landing page:
- Title: "Module 9: Intro to Agentic Kubernetes"
- Frontmatter: sidebar_position: 1, title: "Overview"
- Metadata block: Difficulty: Intermediate, Estimated Time: 70 minutes (15 min reading + 40 min lab + 10 min quiz)
- "What You Will Learn" (5 items): What agentic AI means for Kubernetes operations, Model Context Protocol (MCP) as the standardized AI-tool interface, AI-assisted troubleshooting and diagnostics, human-in-the-loop safety patterns, the future of Kubernetes operations
- "Prerequisites": KIND cluster running with Voting App deployed, kubectl-ai CLI (multiple installation options), an MCP-compatible AI client (Claude Desktop, Cursor, VS Code, or similar). This module is EXPLORATORY - kubectl-ai can be used interactively via CLI even without an MCP client, and the reading materials and quiz remain valuable for conceptual understanding.
- Brief overview: "Throughout this course, you have been the operator. You deployed, scaled, secured, charted, and extended the Voting App manually. But what if an AI agent could help? Not replace you, but assist: diagnosing issues faster, suggesting fixes, explaining what went wrong. This is Agentic Kubernetes - AI that works WITH you, not instead of you."
- Caution admonition: "This module introduces an emerging technology. MCP implementations are evolving rapidly. Some tools may have changed since this content was written. The concepts and safety principles are durable; the specific tools may need updating."

**2. Create docs/section-9/02-reading.md:**
Follow templates/content-template.md. Target: 12-15 minute read (~2000-3000 words). Conversational tone, no emojis.

Content structure:
- **Overview** (2-3 paragraphs): The shift from manual operations to AI-assisted operations. Not autonomous AI running your cluster (that is a future state), but AI that can observe, reason about, and suggest actions for your Kubernetes workloads. Think of it as a very knowledgeable teammate who can read logs faster than you, correlate events across services, and suggest kubectl commands based on the issue.
- **What is Agentic AI?** section:
  - Definition: AI systems that can observe, reason, and act (with human approval) on external systems
  - Three levels: (1) Chatbot - answers questions about K8s concepts, (2) Tool-using agent - can query cluster state via kubectl, (3) Autonomous agent - can make changes with approval workflows
  - This module focuses on Level 2: AI that can READ your cluster but needs YOUR approval to WRITE
  - Analogy: "A junior ops engineer who knows Kubernetes very well, can investigate issues, and brings you suggestions. You still make the decisions."
- **Model Context Protocol (MCP)** section:
  - What: Standardized protocol for connecting AI models to external tools (like USB for AI)
  - Why: Without MCP, every AI+tool integration is custom. MCP provides: tool discovery, input/output schema, error handling, security modes
  - How: MCP Server exposes tools (list-pods, describe-pod, get-logs). MCP Client (AI app) discovers and calls tools. AI model decides which tools to use based on user's question.
  - Include Mermaid diagram: MCP architecture (User -> AI Client (Claude Desktop) -> MCP Protocol -> kubectl-ai MCP Server -> kubectl -> Kubernetes API -> Cluster)
  - MCP servers for Kubernetes: kubectl-ai (Google Cloud Platform, multi-LLM support, Apache 2.0), mcp-kubernetes (Azure, Python), containers/kubernetes-mcp-server (Podman/Kubernetes). This module uses kubectl-ai for its stability, active development (7.2k stars), and MCP server mode.
- **AI-Assisted Kubernetes Operations** section:
  - Use case 1: Diagnostics - "Why is my pod crashing?" AI reads logs, events, resource status, correlates signals, explains root cause
  - Use case 2: Troubleshooting - "Fix the ImagePullBackOff" AI identifies wrong image tag, suggests correct command
  - Use case 3: Exploration - "Show me services with high latency" AI queries metrics, filters, presents results
  - Use case 4: Knowledge - "What is the difference between RollingUpdate and Recreate strategy?" AI explains with context from YOUR cluster
  - Include Mermaid diagram: AI-assisted troubleshooting workflow (User asks question -> AI selects tools -> MCP Server executes kubectl -> Results returned -> AI analyzes -> AI suggests fix -> Human reviews -> Human approves/rejects)
- **Safety and Human-in-the-Loop** section:
  - CRITICAL: AI can hallucinate kubectl commands. Always review before executing.
  - Start with read-only mode (no write operations)
  - Require human approval for all destructive operations (delete, scale to 0, force restart)
  - Use --dry-run=client for previewing changes
  - Audit logging: record all AI-suggested actions
  - Include Mermaid diagram: Safety modes (Read-only: observe + diagnose, Supervised: suggest + require approval, Autonomous: act + audit log - DO NOT START HERE)
  - Caution admonition: "Never give an AI agent cluster-admin permissions on a production cluster. Start with read-only access to a development cluster. Graduate to supervised mode only after building trust."
  - Anti-pattern: AI suggests `kubectl delete pod --force` to fix CrashLoopBackOff. The pod will just restart with the same issue. AI does not understand consequences the way you do.
- **The Emerging Ecosystem** section:
  - Brief overview of production-grade frameworks (do NOT deep-dive, just awareness):
    - Kagent: CNCF project for production agentic workflows
    - Kubeagentics: event-driven AI agents for cluster operations
    - Custom MCP servers: organizations building domain-specific tools
  - "This field is evolving rapidly. The concepts you learned (MCP protocol, human-in-the-loop, safety modes) are durable. The specific tools will mature and change."
- **Summary** with 5 bullet points
- **Further Reading**: MCP specification, kubectl-ai GitHub (GoogleCloudPlatform/kubectl-ai), Kagent project, Anthropic MCP docs
- Info admonition: "Next Steps - Install kubectl-ai and try AI-assisted Kubernetes operations in the lab"
  </action>
  <verify>
    - Both files exist and are non-empty
    - `npm run build` succeeds
    - 02-reading.md contains at least 3 Mermaid diagram code blocks (MCP architecture, troubleshooting workflow, safety modes)
    - 02-reading.md word count is 2000-3000 words
    - Content emphasizes human-in-the-loop safety
    - Content positions as introduction to emerging field
    - Content mentions multiple MCP implementations
    - No emojis, all code blocks have language tags
  </verify>
  <done>Module 9 reading materials introduce agentic Kubernetes concepts (MCP, AI-assisted operations, safety) with 3 Mermaid diagrams, positioned as an evolving field introduction, targeting 12-15 min read time.</done>
</task>

<task type="auto">
  <name>Task 2: Create Module 9 lab and quiz</name>
  <files>
    docs/section-9/03-lab.md
    docs/section-9/quiz.md
  </files>
  <action>
**1. Create docs/section-9/03-lab.md:**
Follow templates/lab-template.md 8-section structure. Duration: 35-40 minutes. This is an EXPLORATORY lab - hands-on where possible, conceptual where MCP client setup is not feasible.

Title: "Lab: AI-Assisted Kubernetes Operations"

- **Objectives** (5 items): Install and configure kubectl-ai with MCP server mode, connect an AI client for cluster interaction, perform AI-assisted cluster diagnostics, practice AI-assisted troubleshooting on a deliberately broken deployment, evaluate AI suggestions with safety awareness
- **Prerequisites**: KIND cluster running with Voting App deployed, kubectl CLI installed and working, an MCP-compatible client (optional - kubectl-ai works in interactive mode too)
- **Setup**:
  - **Install kubectl-ai** (choose one method):
    1. **Quick install via curl** (Linux/macOS):
       ```bash
       curl -fsSL https://raw.githubusercontent.com/GoogleCloudPlatform/kubectl-ai/main/install.sh | bash
       ```
    2. **Via Krew plugin manager**:
       ```bash
       kubectl krew install ai
       ```
    3. **Manual download from GitHub releases**: https://github.com/GoogleCloudPlatform/kubectl-ai/releases
  - Verify installation: `kubectl ai version` (or `kubectl-ai version`)
  - Test basic functionality in interactive mode:
    ```bash
    kubectl ai "show me all pods in the voting-app namespace"
    ```
    This validates kubectl-ai can communicate with your cluster even without MCP server mode.

  - **Configure MCP Server Mode** (optional - enables use with Claude Desktop, Cursor, etc.):
    For Claude Desktop, add to claude_desktop_config.json:
    ```json
    {
      "mcpServers": {
        "kubernetes": {
          "command": "kubectl-ai",
          "args": ["mcp-server", "--context", "kind-voting-app"]
        }
      }
    }
    ```
    For read-only mode (safety first), add `--read-only` to args.

  - Verify cluster connectivity: `kubectl get nodes`
  - **Three Usage Modes**:
    1. **Interactive CLI** (no MCP client needed): `kubectl ai "your question"` - kubectl-ai responds directly in terminal
    2. **MCP Server** (with Claude Desktop/Cursor): AI client connects to kubectl-ai, natural conversation in IDE/app
    3. **Manual** (if kubectl-ai cannot be installed): Read labs conceptually, run kubectl commands manually, understand the pattern
  - Note: "This module works in ALL three modes. Interactive CLI mode provides 80% of the learning value without requiring MCP client setup."

- **Tasks** (4 tasks):
  - **Task 1: Explore kubectl-ai Capabilities**:
    Step 1: Test basic query in interactive mode: `kubectl ai "What namespaces exist in my cluster?"` - observe the response and underlying kubectl command used
    Step 2: Try a diagnostic query: `kubectl ai "Show me all pods in the voting-app namespace with their status"` - note how it formats output
    Step 3: Ask about cluster health: `kubectl ai "Are there any unhealthy pods in my cluster?"` - observe how it defines "unhealthy" (CrashLoopBackOff, Pending, etc.)
    Step 4: Categorize operations: Which queries are read-only (safe)? Which could modify the cluster (require caution)?
    Step 5: Identify the safety boundary: kubectl-ai can read cluster state freely, but any write operation (apply, delete, scale) should require confirmation
    Step 6: Reflect: "kubectl-ai translated my natural language into precise kubectl commands, executed them, and explained results. This is tool-using AI at work."

  - **Task 2: AI-Assisted Diagnostics**:
    Step 1: Ask the AI (or manually run equivalent): "Describe the health of my Voting App deployment"
    - AI should query: deployments, pods, services, events in voting-app namespace
    - AI should report: replica counts, pod statuses, recent events, service endpoints
    Step 2: Ask: "Are there any recent warnings or errors in the voting-app namespace?"
    - AI should query: `kubectl get events --field-selector type=Warning -n voting-app`
    Step 3: Ask: "What are the resource requests and limits for the vote deployment?"
    - AI should query: `kubectl get deployment vote -n voting-app -o yaml`
    - AI should extract and present resource configuration
    Step 4: Ask: "Which pods are using the most CPU in my cluster?"
    - AI should query: `kubectl top pods --all-namespaces --sort-by=cpu`
    Step 5: Document: For each question, note (a) what tool(s) the AI used, (b) was the answer helpful, (c) was the answer accurate?
    Note for terminal-only users: run each kubectl command manually and compare what AI would do vs what you did. The point is seeing how AI decomposes questions into kubectl operations.

  - **Task 3: AI-Assisted Troubleshooting (Broken Deployment)**:
    Step 1: Introduce a deliberate failure - deploy a broken vote service:
    ```bash
    kubectl set image deployment/vote vote=schoolofdevops/vote:doesnotexist -n voting-app
    ```
    Step 2: Wait for failure: `kubectl get pods -n voting-app` (should show ImagePullBackOff or ErrImagePull)
    Step 3: Ask AI: "Why is the vote pod failing in the voting-app namespace?"
    - Expected AI behavior: describe pod, read events, identify ImagePullBackOff, suggest correct image
    Step 4: REVIEW the AI's suggestion before executing. Check:
    - Is the suggested image tag correct? (should be v1 per D018)
    - Is the kubectl command safe? (set image is non-destructive)
    - Does the fix address the root cause? (wrong image tag)
    Step 5: Apply the fix (after human review):
    ```bash
    kubectl set image deployment/vote vote=schoolofdevops/vote:v1 -n voting-app
    ```
    Step 6: Verify recovery: `kubectl get pods -n voting-app` (all Running)
    Step 7: Introduce a second failure - scale worker to 0:
    ```bash
    kubectl scale deployment worker --replicas=0 -n voting-app
    ```
    Step 8: Ask AI: "The Voting App is not processing votes. What is wrong?"
    - AI should investigate: check all pods, notice worker has 0 replicas, suggest scaling up
    Step 9: IMPORTANT REFLECTION: "Did the AI suggest deleting pods? Restarting the cluster? Force-killing processes? If it did, that is a red flag. Good AI troubleshooting is methodical: observe first, diagnose second, suggest minimal fix third."
    Step 10: Fix: `kubectl scale deployment worker --replicas=1 -n voting-app`
    Step 11: Verify Voting App fully functional again

  - **Task 4: Evaluate and Reflect**:
    Step 1: Write a brief evaluation document:
    ```markdown
    ## AI-Assisted Kubernetes Operations Evaluation

    ### What worked well
    - [List 2-3 things the AI did effectively]

    ### What was concerning
    - [List 1-2 things that need human oversight]

    ### Safety observations
    - Did the AI ever suggest a destructive command?
    - Did the AI explain WHY it suggested a command?
    - Would you trust this AI with write access?

    ### When AI assistance adds value
    - [Scenarios where AI helped more than kubectl alone]

    ### When to stay manual
    - [Scenarios where human judgment is essential]
    ```
    Step 2: Compare: how long did troubleshooting take WITH AI vs how long would it take with just kubectl?
    Step 3: Discuss: at what scale (number of services, clusters, incidents) does AI assistance become essential rather than nice-to-have?
    Step 4: Final reflection: "Agentic Kubernetes is not about replacing operators. It is about augmenting them. The AI handles the routine investigation so you can focus on the decisions."

- **Verification**:
  1. kubectl-ai installed and working in at least one mode (interactive CLI, MCP server, or conceptual understanding documented)
  2. At least 3 AI-assisted queries performed (diagnostics)
  3. Troubleshooting exercise completed (broken deployment fixed)
  4. Evaluation document written with safety observations
  5. Voting App restored to fully functional state

- **Cleanup**: Ensure Voting App is restored to working state (vote:v1 image, worker scaled to 1). kubectl-ai does not require cleanup.

- **Troubleshooting**:
  1. kubectl-ai won't install (try Krew method: `kubectl krew install ai`, or download binary from GitHub releases)
  2. kubectl-ai cannot connect to cluster (verify `kubectl get nodes` works first, check kubeconfig context)
  3. MCP server mode not working (use interactive CLI mode instead: `kubectl ai "your question"` - provides same learning value)
  4. AI gives wrong kubectl commands (this is expected - always review, correct, and learn from errors)
  5. No LLM API key configured (kubectl-ai supports multiple providers: Gemini, OpenAI, Azure OpenAI, Ollama local models)

- **Key Takeaways**: 5 points emphasizing AI as assistant not replacement, safety first, human-in-the-loop, emerging technology awareness

**2. Create docs/section-9/quiz.md:**
Follow templates/quiz-template.md. Create 11 questions (6 MCQ, 3 scenario, 2 true/false).

Topics:
- What is MCP (Model Context Protocol - standardized AI-tool interface)
- Agentic AI levels (chatbot vs tool-using vs autonomous)
- MCP architecture components (client, server, protocol, tools)
- Read-only vs supervised vs autonomous safety modes
- Human-in-the-loop principle (scenario: AI suggests force-delete, what to do?)
- AI hallucination risk with kubectl commands (true/false: AI-generated kubectl is always safe)
- When AI assistance adds most value (scenario: 3 services vs 50 services)
- MCP server security (scenario: what permissions should MCP server have in production?)
- AI troubleshooting workflow (observe, diagnose, suggest, review)
- Difference between AI assistance and AI automation
- The role of audit logging in agentic operations (true/false)

Module metadata: Module: 9, Topic: Intro to Agentic Kubernetes, Question Count: 11
  </action>
  <verify>
    - `docs/section-9/03-lab.md` exists with all 8 sections
    - Lab has 4 tasks (explore, diagnose, troubleshoot, evaluate)
    - Lab is exploratory with fallback for users without MCP client
    - Lab includes deliberate failure injection and AI-assisted fix
    - Lab includes safety reflection and evaluation document
    - Lab emphasizes human-in-the-loop throughout
    - `docs/section-9/quiz.md` has at least 11 questions
    - `npm run build` succeeds
    - No emojis, all code blocks have language tags
  </verify>
  <done>Module 9 lab provides exploratory AI-assisted Kubernetes operations: MCP setup, diagnostics, troubleshooting a broken deployment, and safety evaluation. Quiz has 11 questions testing agentic concepts and safety awareness. This completes the course with all 10 modules.</done>
</task>

</tasks>

<verification>
- Module 9 has 4 content files: 01-overview.mdx (updated), 02-reading.md, 03-lab.md, quiz.md
- Reading is 12-15 min with 3 Mermaid diagrams (MCP architecture, troubleshooting workflow, safety modes)
- Lab follows 8-section template with 4 tasks
- Lab is exploratory with fallback for users without MCP client
- Lab emphasizes human-in-the-loop safety
- Lab includes deliberate failure and AI-assisted troubleshooting
- Quiz has 11 questions in correct format
- `npm run build` succeeds
</verification>

<success_criteria>
Module 9 is complete: agentic Kubernetes concepts introduced with diagrams (12-15 min read), exploratory lab with AI-assisted troubleshooting (35-40 min), and quiz testing safety awareness (11 questions). This completes Phase 4 covering Modules 5-9 and the entire course.
</success_criteria>

<output>
After completion, create `.planning/phases/04-advanced-content/04-05-SUMMARY.md`
</output>
