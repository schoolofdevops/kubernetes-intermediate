---
phase: 02-content-infrastructure
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - docusaurus.config.ts
  - package.json
  - diagrams/section-0/.gitkeep
  - diagrams/section-1/.gitkeep
  - diagrams/section-2/.gitkeep
  - diagrams/section-3/.gitkeep
  - diagrams/section-4/.gitkeep
  - diagrams/section-5/.gitkeep
  - diagrams/section-6/.gitkeep
  - diagrams/section-7/.gitkeep
  - diagrams/section-8/.gitkeep
  - diagrams/section-9/.gitkeep
  - diagrams/shared/.gitkeep
  - diagrams/README.md
  - docs/section-0/01-overview.mdx
autonomous: true

must_haves:
  truths:
    - "Mermaid code blocks render as diagrams in Docusaurus (not plain text)"
    - "Mermaid diagrams adapt to light/dark mode automatically"
    - "Diagram source folder structure exists with module-prefixed naming convention documented"
  artifacts:
    - path: "docusaurus.config.ts"
      provides: "Mermaid theme configuration"
      contains: "theme-mermaid"
    - path: "diagrams/README.md"
      provides: "Diagram workflow documentation with naming conventions and video animation guidance"
      min_lines: 40
    - path: "diagrams/section-0/.gitkeep"
      provides: "Module 0 diagram folder exists"
  key_links:
    - from: "docusaurus.config.ts"
      to: "@docusaurus/theme-mermaid"
      via: "themes array + markdown.mermaid flag"
      pattern: "themes.*theme-mermaid"
    - from: "docs/section-0/01-overview.mdx"
      to: "Mermaid renderer"
      via: "mermaid code block"
      pattern: "```mermaid"
---

<objective>
Install Mermaid diagram support in Docusaurus and establish the centralized diagram directory structure with naming conventions and workflow documentation.

Purpose: Enable authors to create and embed Mermaid diagrams in course content, and provide a consistent folder structure for all diagram source files (Mermaid and Excalidraw).
Output: Working Mermaid rendering in Docusaurus, organized diagram folders for all 10 modules, documented diagram workflow.
</objective>

<execution_context>
@/Users/gshah/.claude/get-shit-done/workflows/execute-plan.md
@/Users/gshah/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-content-infrastructure/02-RESEARCH.md
@docusaurus.config.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install Mermaid Theme and Configure Docusaurus</name>
  <files>docusaurus.config.ts, package.json</files>
  <action>
  1. Install the Mermaid theme package:
     ```bash
     npm install --save @docusaurus/theme-mermaid@3.9.2
     ```

  2. Update `docusaurus.config.ts` with three changes:
     - Add `themes: ['@docusaurus/theme-mermaid']` at the top level of the config object (after `i18n`)
     - Add `markdown: { mermaid: true }` at the top level of the config object (after `themes`)
     - Add `mermaid` to the `themeConfig` object with light/dark theme support:
       ```typescript
       mermaid: {
         theme: { light: 'neutral', dark: 'dark' },
       },
       ```

  3. Add a sample Mermaid diagram to `docs/section-0/01-overview.mdx` to verify rendering. Insert a simple flowchart before the existing content (after frontmatter) that shows the course learning path:

     ````markdown
     ## Course Learning Path

     ```mermaid
     flowchart LR
         A[Module 0: Setup] --> B[Module 1: Scheduling]
         B --> C[Module 2: Autoscaling]
         C --> D[Module 3: Gateway API]
         D --> E[Module 4: Service Mesh]
         E --> F[Module 5: Security]
         F --> G[Module 6: Helm]
         G --> H[Module 7: CRDs]
         H --> I[Module 8: Operators]
         I --> J[Module 9: Agentic K8s]
     ```
     ````

     This serves as both a verification that Mermaid works and useful course navigation content.

  4. Run `npm run build` to verify the build succeeds with Mermaid enabled and no errors.
  </action>
  <verify>
  - `npm run build` completes without errors
  - `package.json` includes `@docusaurus/theme-mermaid` in dependencies
  - `docusaurus.config.ts` contains `themes: ['@docusaurus/theme-mermaid']`
  - `docusaurus.config.ts` contains `markdown: { mermaid: true }`
  - `docusaurus.config.ts` contains `mermaid: { theme: { light: 'neutral', dark: 'dark' } }`
  - The section-0 overview page contains a mermaid code block
  </verify>
  <done>Mermaid diagrams render in Docusaurus build. Light/dark theme switching configured. Sample diagram exists in Module 0 overview.</done>
</task>

<task type="auto">
  <name>Task 2: Create Diagram Directory Structure and Workflow Documentation</name>
  <files>
    diagrams/section-0/.gitkeep
    diagrams/section-1/.gitkeep
    diagrams/section-2/.gitkeep
    diagrams/section-3/.gitkeep
    diagrams/section-4/.gitkeep
    diagrams/section-5/.gitkeep
    diagrams/section-6/.gitkeep
    diagrams/section-7/.gitkeep
    diagrams/section-8/.gitkeep
    diagrams/section-9/.gitkeep
    diagrams/shared/.gitkeep
    diagrams/README.md
  </files>
  <action>
  1. Create the centralized `diagrams/` folder at project root with module-based subfolders per user decision:
     ```
     diagrams/
     ├── section-0/     # Module 0: Introduction and Getting Started
     ├── section-1/     # Module 1: Advanced Pod Scheduling
     ├── section-2/     # Module 2: Autoscaling
     ├── section-3/     # Module 3: Gateway API
     ├── section-4/     # Module 4: Service Mesh
     ├── section-5/     # Module 5: Security
     ├── section-6/     # Module 6: Writing Helm Charts
     ├── section-7/     # Module 7: CRDs
     ├── section-8/     # Module 8: Building K8s Operators
     ├── section-9/     # Module 9: Agentic Kubernetes
     └── shared/        # Cross-module diagrams
     ```
     Add `.gitkeep` files to each empty folder so they are tracked in git.

  2. Create `diagrams/README.md` documenting the diagram workflow. Include:
     - **Folder structure** overview
     - **Naming convention**: Module-prefixed filenames (e.g., `00-kind-setup.mmd`, `03-gateway-routing.excalidraw`)
       - Format: `NN-topic-description.{mmd,excalidraw,svg,png}`
       - Module prefix: `00-` through `09-`
     - **Mermaid workflow**: Create in Mermaid Live Editor, save source as `.mmd`, embed in docs using mermaid code blocks (rendered natively by Docusaurus)
     - **Excalidraw workflow**: Create at excalidraw.com, save source as `.excalidraw` with "Embed scene" enabled, export to SVG/PNG, embed in docs using image syntax `![description](../../diagrams/section-N/NN-name.svg)`
     - **Version control rules**: Always commit both source files AND exported images. Manual export by author.
     - **Embedding examples**: Show both Mermaid code block embedding and image reference embedding with correct relative paths from `docs/section-N/` to `diagrams/section-N/`
     - **Video animation optimization** (DIAGRAM-03): Include a dedicated section on designing diagrams for video explanation workflows. Cover:
       - Design diagrams with incremental build-up in mind (layered reveals)
       - For Mermaid: structure flowcharts top-down or left-to-right so nodes can be revealed sequentially during video narration
       - For Excalidraw: use separate layers/groups for each concept that can be shown progressively in screen recordings
       - Keep diagrams simple enough that each element can be explained in 10-30 seconds
       - Use consistent color coding across modules (e.g., blue for compute, green for networking, orange for storage) so animations feel cohesive
       - Avoid overly dense diagrams; prefer splitting into 2-3 focused diagrams over one complex diagram

  Note: Flat structure within each module folder per research recommendation. No further subdivision by type needed since each module will have 1-3 diagrams.
  </action>
  <verify>
  - All 11 subdirectories exist under `diagrams/` (section-0 through section-9 + shared)
  - Each has a `.gitkeep` file
  - `diagrams/README.md` exists and documents naming conventions, both workflows (Mermaid and Excalidraw), and embedding examples
  - `diagrams/README.md` contains a section on video animation optimization / build-up design
  - `diagrams/README.md` is at least 40 lines
  </verify>
  <done>Diagram directory structure exists for all 10 modules plus shared folder. README documents naming conventions (module-prefixed), Mermaid workflow, Excalidraw workflow, version control rules, embedding patterns, and video animation design guidelines.</done>
</task>

</tasks>

<verification>
- `npm run build` succeeds with Mermaid theme installed
- Mermaid code block in section-0 overview renders (not shown as plain text)
- `diagrams/` folder has 11 subfolders with .gitkeep files
- `diagrams/README.md` is comprehensive (naming, workflows, embedding, video animation)
- No broken links or build warnings related to diagrams
</verification>

<success_criteria>
1. Mermaid diagrams render correctly in Docusaurus with light/dark theme support
2. Centralized diagram folder structure ready for all 10 modules
3. Diagram workflow fully documented for both Mermaid and Excalidraw
4. Video animation optimization guidelines documented for build-up friendly diagrams
5. Build passes cleanly with all new configuration
</success_criteria>

<output>
After completion, create `.planning/phases/02-content-infrastructure/02-01-SUMMARY.md`
</output>
